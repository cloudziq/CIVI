[gd_scene load_steps=11 format=2]

[ext_resource path="res://def_env.tres" type="Environment" id=1]
[ext_resource path="res://data/class/Camera.gd" type="Script" id=2]
[ext_resource path="res://data/class/MAP.gd" type="Script" id=3]
[ext_resource path="res://data/models/map/tile/flat01.obj" type="ArrayMesh" id=4]
[ext_resource path="res://data/models/map/tile/water01.obj" type="ArrayMesh" id=6]

[sub_resource type="SpatialMaterial" id=1]
params_diffuse_mode = 3
albedo_color = Color( 0.635294, 0.635294, 0.635294, 1 )
metallic = 0.05
metallic_specular = 1.0
roughness = 0.22

[sub_resource type="MultiMesh" id=4]
instance_count = 1
mesh = ExtResource( 4 )
transform_2d_array = PoolVector2Array( 1, 0, 0, 1, 0, 0 )

[sub_resource type="OpenSimplexNoise" id=6]
octaves = 6
period = 22.1
persistence = 0.4
lacunarity = 0.32

[sub_resource type="NoiseTexture" id=7]
seamless = true
as_normalmap = true
bump_strength = 16.0
noise = SubResource( 6 )

[sub_resource type="SpatialMaterial" id=5]
metallic = 0.1
metallic_specular = 0.4
roughness = 0.1
normal_enabled = true
normal_scale = 0.97
normal_texture = SubResource( 7 )

[node name="MAP" type="Spatial"]
script = ExtResource( 3 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, 0, 26.5579, 0 )
current = true
near = 0.04
far = 112.0
script = ExtResource( 2 )

[node name="Sun" type="DirectionalLight" parent="."]
unique_name_in_owner = true
transform = Transform( 0.71934, -0.0484569, -0.692966, 0, 0.997564, -0.0697565, 0.694658, 0.0501786, 0.717588, 0.01, 122.38, 0 )
light_color = Color( 0.560784, 0.552941, 0.552941, 1 )
light_energy = 1.32
light_indirect_energy = 0.0
light_specular = 0.32
shadow_enabled = true
shadow_color = Color( 0.294118, 0.294118, 0.294118, 1 )
shadow_bias = 0.5
directional_shadow_mode = 0
directional_shadow_split_3 = 0.478
directional_shadow_blend_splits = true
directional_shadow_max_distance = 10.0

[node name="Moon" type="DirectionalLight" parent="."]
unique_name_in_owner = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.28, 100, 0 )
light_color = Color( 0.168627, 0.176471, 0.258824, 1 )
light_energy = 0.84
light_indirect_energy = 0.0
light_specular = 0.2
shadow_enabled = true
shadow_color = Color( 0.117647, 0.133333, 0.133333, 1 )
shadow_bias = 0.5
directional_shadow_mode = 0
directional_shadow_split_1 = 0.219
directional_shadow_split_2 = 0.254
directional_shadow_split_3 = 0.456
directional_shadow_blend_splits = true
directional_shadow_max_distance = 10.0

[node name="Env" type="WorldEnvironment" parent="."]
unique_name_in_owner = true
environment = ExtResource( 1 )

[node name="TestSphere" type="CSGSphere" parent="."]
transform = Transform( 1, 0, 0, 0, -0.447759, -0.894154, 0, 0.894154, -0.447759, 72.16, 8, 163.5 )
radius = 1.2
radial_segments = 24
rings = 24
material = SubResource( 1 )

[node name="WIP" type="Spatial" parent="."]
visible = false

[node name="MultiMeshInstance" type="MultiMeshInstance" parent="WIP"]
visible = false
multimesh = SubResource( 4 )

[node name="MeshInstance" type="MeshInstance" parent="WIP"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00794291, -0.325696, -0.00424337 )
mesh = ExtResource( 6 )
material/0 = SubResource( 5 )

[node name="MeshInstance2" type="MeshInstance" parent="WIP"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.98828, -0.325696, 1.72681 )
visible = false
mesh = ExtResource( 6 )
material/0 = SubResource( 5 )

[node name="MeshInstance3" type="MeshInstance" parent="WIP"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.98828, -0.325696, 1.72681 )
visible = false
mesh = ExtResource( 6 )
material/0 = SubResource( 5 )

[node name="OmniLight" type="OmniLight" parent="WIP"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.17594, 1.62942, 2.03269 )
editor_only = true
